!function(t){var a={};function e(s){if(a[s])return a[s].exports;var n=a[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)e.d(s,n,function(a){return t[a]}.bind(null,n));return s},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=36)}({36:function(t,a,e){t.exports=e(37)},37:function(t,a,e){"use strict";var s={init:function(){$("[data-switch=true]").bootstrapSwitch({onSwitchChange:function(t,a){$("#request-qty").toggle("slow","swing"),$(".bootstrap-switch-container").css("width","350px")}}),$(".bootstrap-switch-container").css("width","350px")}},n={init:function(){var t;t=$("#kt_table_1"),dataTable=t.DataTable({responsive:!0,ajax:{url:"/request/list",type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{pagination:{perpage:15}}},sAjaxDataProp:"data",columns:[{data:"request_id"},{data:"user"},{data:"kitchener"},{data:"plate"},{data:"date"},{data:"status"},{data:"actions",responsivePriority:-1}],columnDefs:[{targets:-1,title:"Actions",orderable:!1,render:function(t,a,e,s){var n=e.request_id,r='<span class="dropdown">\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="dropdown" aria-expanded="true">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="la la-ellipsis-h"></i>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<div class="dropdown-menu dropdown-menu-right">';return r+='<a class="dropdown-item" href="javascript:;"><i class="la la-edit"></i> View</a>',can("request.assign")&&1==e.status&&(r+='<a class="dropdown-item actions" href="javascript:;" data-url="/request/assign" data-state="2" data-request="'.concat(n,'"><i class="la flaticon-user-add"></i> Assign to me</a>')),can("request.ingredients")&&2==e.status&&(r+='<a class="dropdown-item actions" href="javascript:;" data-url="/request/ingredients" data-state="3" data-request="'.concat(n,'"><i class="fa fa-pizza-slice"></i> Request Ingredients</a>')),can("request.deliver")&&3==e.status&&(r+='<a class="dropdown-item actions" href="javascript:;" data-url="/request/deliver" data-state="4" data-request="'.concat(n,'"><i class="la flaticon-paper-plane-1"></i> Deliver Ingredients</a>')),can("request.buy")&&(r+='<a class="dropdown-item actions" href="javascript:;" data-url="/request/buy" data-state="" data-request="'.concat(n,'"><i class="la la-money"></i> Buy Ingredients</a>')),can("plate.prepare")&&4==e.status&&(r+='<a class="dropdown-item actions" href="javascript:;" data-url="/request/prepare" data-state="5" data-request="'.concat(n,'"><i class="la flaticon2-checkmark"></i> Prepare</a>')),r+="</div>\n\t\t\t\t\t\t\t</span>"}},{targets:-2,render:function(t,a,e,s){var n={1:{title:"Sended",class:"kt-badge--info"},2:{title:"Assigned",class:" kt-badge--warning"},3:{title:"Waiting",class:" kt-badge--primary"},4:{title:"Ready",class:" kt-badge--info"},5:{title:"Done",class:" kt-badge--success"}};return void 0===n[t]?t:'<span class="kt-badge '+n[t].class+' kt-badge--inline kt-badge--pill">'+n[t].title+"</span>"}}]})}};$(document).on("click",".actions",function(t){var a=$(this).data("request"),e=$(this).data("url"),s={request_id:a,request_state_id:$(this).data("state")};ajax.post(e,s,function(t){toastr.error(t.responseJSON.message)})}),$(document).on("click","#submit-request",function(t){var a=$("#request-qty-input"),e=1;if(a.is(":visible")){if(!a.val())return toastr.error("Value missing"),!1;e=a.val()}var s={quantity:e};ajax.post("/request/create",s,function(){toastr.success("An error has ocurred")},function(){$("#kt_modal").modal("hide"),a.val("")})}),$(document).ready(function(){n.init(),s.init()})}});